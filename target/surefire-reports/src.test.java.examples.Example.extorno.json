[{"line":1,"elements":[{"line":4,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url 'https:\/\/api-test1.utec.net.pe'","result":{"duration":2108295,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"17:05:56.079 karate.env system property was:","line":5}},{"name":"header Content-Type = 'application\/json'","result":{"duration":1882306,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"def feature = read('pago.feature')","result":{"duration":65941702,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":7},{"name":"def feature = read('consulta.feature')","result":{"duration":8938503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def result = call feature","result":{"duration":1532494145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":9},{"name":"\/home\/pevangelista\/IdeaProjects\/proyect-api-consulta-automation\/src\/test\/java\/examples\/Example\/consulta.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":9},{"name":"url 'https:\/\/api-test1.utec.net.pe'","result":{"duration":3447425,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"header Content-Type = 'application\/json'","result":{"duration":158004,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"path '\/finance-api\/v1\/asbanc\/debts\/query'","result":{"duration":6436813,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":10},{"name":"request { \"product\":\"001\",\"queryType\":1, \"queryPayload\": \"73145859\", \"bank\": 1012,\"channel\": 14,\"business\": \"636\" }","result":{"duration":239470,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":11},{"name":"method POST","result":{"duration":1483326892,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":12,"doc_string":{"content_type":"","value":"17:05:56.472 request:\n1 > POST https:\/\/api-test1.utec.net.pe\/finance-api\/v1\/asbanc\/debts\/query\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 99\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: api-test1.utec.net.pe\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_241)\n{\"product\":\"001\",\"queryType\":1,\"queryPayload\":\"73145859\",\"bank\":1012,\"channel\":14,\"business\":\"636\"}\n\n17:05:57.714 response time in milliseconds: 1239.99\n1 < 200\n1 < Access-Control-Allow-Headers: Origin, x-requested-with,Content-Type,Accept, authorization,X-UTEC-CONSUMER-ID,X-Auth-Token,X-UTEC-REQUEST-ID\n1 < Access-Control-Allow-Methods: POST,PUT, GET, OPTIONS, DELETE\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 3600\n1 < Connection: keep-alive\n1 < Content-Length: 428\n1 < Content-Type: application\/json;charset=UTF-8\n1 < Date: Mon, 31 Aug 2020 22:05:57 GMT\n1 < Server: nginx\n1 < Strict-Transport-Security: max-age=31536000; includeSubDomains; preload\n1 < X-UTEC-REQUEST-ID: 78c68043-4d16-454e-a3ef-55018b0cbc45\n{\n\t\"status\":200,\n\t\"message\":\"success\",\"content\":{\"asbancStatus\":\"0\",\"asbancMessage\":\"TRANSACCION PROCESADA OK\",\"client\":\"Gabriela Cristina Garayar\",\"debts\":[{\"product\":\"001\",\"document\":{\"number\":\"B001-00057551\",\"description\":\"Cuota 3 2020-1\"},\"dueAt\":\"31052020\",\"createdAt\":\"27052020\",\"amount\":303.36,\"arrears\":0,\"administrativeExpenses\":0,\"minimumPayment\":303.36,\"period\":\"00\",\"year\":2020,\"installment\":\"00\",\"currency\":\"1\"}]}\n}","line":12}},{"name":"print 'response---',response","result":{"duration":2370767,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":14,"doc_string":{"content_type":"","value":"17:05:57.717 [print] response--- {\n  \"message\": \"success\",\n  \"content\": {\n    \"debts\": [\n      {\n        \"dueAt\": \"31052020\",\n        \"createdAt\": \"27052020\",\n        \"product\": \"001\",\n        \"amount\": 303.36,\n        \"period\": \"00\",\n        \"arrears\": 0,\n        \"year\": 2020,\n        \"document\": {\n          \"number\": \"B001-00057551\",\n          \"description\": \"Cuota 3 2020-1\"\n        },\n        \"minimumPayment\": 303.36,\n        \"installment\": \"00\",\n        \"currency\": \"1\",\n        \"administrativeExpenses\": 0\n      }\n    ],\n    \"asbancMessage\": \"TRANSACCION PROCESADA OK\",\n    \"client\": \"Gabriela Cristina Garayar\",\n    \"asbancStatus\": \"0\"\n  },\n  \"status\": 200\n}","line":14}},{"name":"status 200","result":{"duration":11554,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":15},{"name":"match response contains {\"message\": \"success\"}","result":{"duration":727537,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":16},{"name":"match response.content contains {\"asbancStatus\" : \"0\"}","result":{"duration":493572,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":17},{"name":"match response.content contains {\"asbancMessage\" : \"TRANSACCION PROCESADA OK\"}","result":{"duration":147388,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":18},{"name":"def Cliente = response.content.client","result":{"duration":5680660,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":21},{"name":"print Cliente","result":{"duration":240258,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":22,"doc_string":{"content_type":"","value":"17:05:57.725 [print] Gabriela Cristina Garayar","line":22}},{"name":"assert response.content.client == Cliente","result":{"duration":3293936,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":23},{"name":"match response.message contains \"success\"","result":{"duration":1782177,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":27},{"name":"match response.message !contains \"succss\"","result":{"duration":1560177,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":29},{"name":"match response.message contains \"succe\"","result":{"duration":1416398,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":31}]},{"line":11,"name":"Payment Operation Void","description":"","id":"payment-operation-void","type":"scenario","keyword":"Scenario","steps":[{"name":"def number = result.response.content.debts[0].document.number","result":{"duration":13026504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12},{"name":"print = number","result":{"duration":2569421,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":13,"doc_string":{"content_type":"","value":"17:05:57.750 [print]","line":13}},{"name":"path '\/finance-api\/v1\/asbanc\/payments\/void'","result":{"duration":1576256,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":14},{"name":"request {\"queryType\": 1,\"queryPayload\": \"73145859\",\"document\": \"#(number)\",\"date\": \"19072020\",\"time\": \"121330\",\"bank\": 1020,\"operation\": \"J1\",\"business\": \"636\"}","result":{"duration":2134351,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":15},{"name":"print 'response---',response","result":{"duration":2800999,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":16,"doc_string":{"content_type":"","value":"17:05:57.756 [print] response---","line":16}},{"name":"method POST","result":{"duration":1052743503,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":17,"doc_string":{"content_type":"","value":"17:05:57.758 request:\n1 > POST https:\/\/api-test1.utec.net.pe\/finance-api\/v1\/asbanc\/payments\/void\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Content-Length: 148\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Host: api-test1.utec.net.pe\n1 > User-Agent: Apache-HttpClient\/4.5.11 (Java\/1.8.0_241)\n{\"queryType\":1,\"queryPayload\":\"73145859\",\"document\":\"B001-00057551\",\"date\":\"19072020\",\"time\":\"121330\",\"bank\":1020,\"operation\":\"J1\",\"business\":\"636\"}\n\n17:05:58.809 response time in milliseconds: 1050.72\n1 < 200\n1 < Access-Control-Allow-Headers: Origin, x-requested-with,Content-Type,Accept, authorization,X-UTEC-CONSUMER-ID,X-Auth-Token,X-UTEC-REQUEST-ID\n1 < Access-Control-Allow-Methods: POST,PUT, GET, OPTIONS, DELETE\n1 < Access-Control-Allow-Origin: *\n1 < Access-Control-Max-Age: 3600\n1 < Connection: keep-alive\n1 < Content-Length: 145\n1 < Content-Type: application\/json;charset=UTF-8\n1 < Date: Mon, 31 Aug 2020 22:05:58 GMT\n1 < Server: nginx\n1 < Strict-Transport-Security: max-age=31536000; includeSubDomains; preload\n1 < X-UTEC-REQUEST-ID: 02e3f63b-c3c9-4cfc-b285-5a2ad5964f74\n{\n\t\"status\":200,\n\t\"message\":\"success\",\"content\":{\"asbancStatus\":\"68\",\"asbancMessage\":\"TXN ORIG. A ANULAR NO EXISTE\",\"client\":\"\",\"operation\":\"\"}\n}","line":17}},{"name":"status 200","result":{"duration":11932,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":18},{"name":"match response contains {\"message\": \"success\"}","result":{"duration":248378,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":19},{"name":"match response.content contains {\"asbancStatus\" : \"0\"}","result":{"duration":845552,"error_message":"com.intuit.karate.exception.KarateException: extorno.feature:20 - path: $.content.asbancStatus, actual: '68', expected: '0', reason: not equal","status":"failed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":20,"doc_string":{"content_type":"","value":"17:05:58.810 assertion failed: path: $.content.asbancStatus, actual: '68', expected: '0', reason: not equal","line":20}},{"name":"match response.content contains {\"asbancMessage\" : \"TRANSACCION PROCESADA OK\"}","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":21},{"name":"def Cliente = result.response.content.client","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":22},{"name":"assert result.response.content.client == Cliente","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"print Cliente","result":{"duration":0,"status":"skipped"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":24}]}],"name":"src\/test\/java\/examples\/Example\/extorno.feature","description":"sample karate test script\nfor help, see: https:\/\/github.com\/intuit\/karate\/wiki\/IDE-Support","id":"sample-karate-test-script","keyword":"Feature","uri":"src\/test\/java\/examples\/Example\/extorno.feature"}]